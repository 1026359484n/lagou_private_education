

1. MySQL中，开启事务A后，修改非唯一索引的一条记录，会添加Next-key Lock，这时另一个事务B不能修改该索引所在的列，但是可以修改索引值的上下间隙，或lock in share mode。是否可以理解为Next-key Lock会在记录和间隙上分别添加排他锁和共享锁，如果是这样为什么还要把这种情况算做是一种锁，就只区分间隙锁和记录锁不是更容易理解吗？
2. 间隙锁为什么是由当前时间点所有事务中最新的记录确定的范围？比如原本只有普通索引a 为20和50的记录，如果事务A添加a为30和40的记录，在事务A尚未提交时，事务B更新a=35的记录。这时事务B持有的间隙锁范围是(30-40)。为什么不是20-50呢？
3. ReadView在RR级别下的流程，分别根据网上的流程和自己的理解觉得可以简化的方式画了流程图：
下面根据网上博客画的流程图

![image-20211027184227004](/Users/zhang/Documents/lagou/lagou_private_education/周中答疑复盘/image-20211027184227004.png)